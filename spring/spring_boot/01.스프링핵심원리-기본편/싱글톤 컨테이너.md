# 싱글톤 컨테이너


### 스프링 빈을 설계할 떄 무상태로 설계할 것
만약, 스프링 빈(객체)에 공유 변수가 있을 경우 동시성 문제가 발생할 수 있기 때문이다.

```java
//스프링 빈 예시. 스프링빈을 static으로 대신한다.
public static class Service {

  private int price;

  public static void order(String name, int price) {
    this.price = price // 할당하는 부분에 대해서 여러 스레드가 접근하게 된다면, 기댓값과 다른 값을 얻게된다.  
  }
  
  public static int getPrice() {
    return price;
  }
  
  
  main() {
    Service.order("userA", 1000);
    Service.order("userB), 2000;
    
    //1000이 나와야하지만, 2000이 나오게 됨.
    Service.getPrice(); //expect 2000,
  }
}
```

```java
//해결

public static class Service {

  public static void order(String name, int price) {
    //do something
    
    return price;
  }
  
   main() {
    int price1 = Service.order("userA", 1000);
    int price2 = Service.order("userB), 2000;

  }
  
}

```



##### 출처: https://www.inflearn.com/course/lecture?courseSlug=%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8&unitId=55364&category=questionDetail&tab=curriculum
